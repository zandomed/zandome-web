---
const GoogleAnalyticsID = import.meta.env.PUBLIC_ANALYTICS_GOOGLE_ID;
---

<!-- Google tag (gtag.js) -->
{GoogleAnalyticsID && (
  <script is:inline type='text/partytown' async src={`https://www.googletagmanager.com/gtag/js?id=${GoogleAnalyticsID}`}></script>
  <script is:inline type='text/partytown' define:vars={{ GoogleAnalyticsID }}>
    window.dataLayer = window.dataLayer || []
    function gtag() {
      dataLayer.push(arguments)
    }
    gtag('js', new Date())
  
    gtag('config', GoogleAnalyticsID, {
      page_path: window.location.pathname
    })
  </script>
)}
